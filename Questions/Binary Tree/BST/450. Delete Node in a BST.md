# [Delete Node in a BST - LeetCode](https://leetcode.com/problems/delete-node-in-a-bst/description/)
## Tag
#BST


## 审题（关键词） 
deletnode, BST


## 初始思路  
二叉搜索树删除节点比增加节点复杂的多。  

因为二叉搜索树添加节点只需要在叶子上添加就可以的，不涉及到结构的调整，而删除节点操作涉及到结构的调整。  

```
有以下五种情况：

第一种情况：没找到删除的节点，遍历到空节点直接返回了
找到删除的节点
第二种情况：左右孩子都为空（叶子节点），直接删除节点， 返回NULL为根节点
第三种情况：删除节点的左孩子为空，右孩子不为空，删除节点，右孩子补位，返回右孩子为根节点
第四种情况：删除节点的右孩子为空，左孩子不为空，删除节点，左孩子补位，返回左孩子为根节点
第五种情况：左右孩子节点都不为空，则将删除节点的左子树头结点（左孩子）放到删除节点的右子树的最左面节点的左孩子上，返回删除节点右孩子为新的根节点。
```


## 考点  
- 二叉树的删除操作：找到叶子节点并交换，删除叶子节点，重新建立左右子树的连接。
- 分门别类，分清楚所有删除节点的情况。

## 解法  
>
```java
class Solution {
    public TreeNode deleteNode(TreeNode root, int key) {
        // 遍历框架：每一层返回删除key后的节点本身
        // 1. root节点是叶子节点，直接删除
        // 2. root节点左边或者右边有值，让子节点替代自己
        // 3. root节点两边都有值。找到右边最小值或者左边最大值的节点替代自己。
        if (root == null) {
            return root;
        }

        // 前序遍历位置：
        if (root.val == key) {
            // 处理 1. root节点是叶子节点，直接删除
            // if (root.left == null && root.right == null) {
            //     return null;
            // } 可被2正确处理
            //  处理 2. root节点左边或者右边有值，让子节点替代自己
            if (root.left == null) {
                return root.right;
            }

            if (root.right == null) {
                return root.left;
            }

            // 处理 3. root节点两边都有值。找到右边最小值替代自己。
            TreeNode min = getMin(root.right);
            root.right = deleteNode(root.right, min.val);
            min.left = root.left;
            min.right = root.right;
            root = min;
        }
        // 访问： 去左边找到key删除。
        else if (root.val > key) {
            root.left = deleteNode(root.left, key);
        }
        // 访问： 去右边找到key删除。
        else if (root.val < key) {
            root.right = deleteNode(root.right, key);
        }

        return root;
    }

    private TreeNode getMin(TreeNode node) {
        // BST 最左边的就是最小的
        while (node.left != null) node = node.left;
        return node;
    }
}
```
## 难点

```java
    // 处理 3. root节点两边都有值。找到右边最小值替代自己。
    TreeNode min = getMin(root.right);
    root.right = deleteNode(root.right, min.val);
    min.left = root.left;
    min.right = root.right;
    root = min;
```