---
title: 416. Partition Equal Subset Sum
date: 2023/06/05
author: Runming
type: 题解
---

# [Partition Equal Subset Sum - LeetCode](https://leetcode.com/problems/partition-equal-subset-sum/)
## Tag
#0-1knapsack, #dp


## 审题（关键词） 
给定一个只包含正整数的非空数组。是否可以将这个数组分割成两个子集，使得两个子集的元素和相等。

## 初始思路  
问题转换：我们是否能找到一个子集，其元素的和等于sum的一半。
可以想到01背包：
1. 每个元素只有一个
2. 两个选择，放入或者不让入
3. 目标：尽可能装满背包，即找到一个子集其和刚好为一半

## 考点  

## 解法  
```java
class Solution {
    public boolean canPartition(int[] nums) {
        int sum = 0;
        for (int i = 0; i < nums.length; i++) {
            sum += nums[i];
        }
        
        // odd:
        if (sum % 2 != 0) {
            return false;
        }

        // target:
        sum /= 2;

        // 0 1 knapsack:
        // 1. 定义：dp[i] 重量为i的背包，可以背的物品最大总和为dp[i]
        // 2. 初始化: 重量为0的背包 物品最大总和均为0.
        int[] dp = new int[sum + 1];

        // 3. 遍历顺序：
        // 外层循环：循环物品（数字）
        for (int i = 0; i < nums.length; i++) {
            // 内层循环：循环背包重量：
            // j >= nums[i] 当背包剩余大小大于当前物品时才可以装入。
            // 倒序循环：详见01 背包解析
            for (int j = sum; j >= nums[i]; j--) {
                // 4. 递推公式：
                // 不取当前物品，
                // 取当前物品
                dp[j] = Math.max(dp[j], dp[j - nums[i]] + nums[i]);
            }
        }

        return dp[sum] == sum;
    }
}
```

## 难点
问题如何转换到01背包：
1. 选择：01背包只有两个状态取或者不取
2. 目标：是否可以填满背包 / 取最大价值
3. 每个物品只可以取一次。