---
title: 24. Swap Nodes in Pairs
date: 2023/08/11
author: Runming
type: 题解
---

## 审题（关键词） 
ListNode, swap

## 初始思路  

1. 建议使用虚拟头结点，这样会方便很多，要不然每次针对头结点（没有前一个指针指向头结点），还要单独处理。
2. 画图摸清调换的规律
   1. 

## 考点  
链表的操作

## 解法  
```java
class Solution {
    public ListNode swapPairs(ListNode head) {
        ListNode dummy = new ListNode(-1, head);
        
        ListNode curr = dummy; // curr 是在调换pair的前一个节点
        while (curr.next != null && curr.next.next != null) {
            // 1, 2, 3, 4
            ListNode temp = curr.next; // node 1
            ListNode temp1 = curr.next.next.next; // node 3

            // 在操作中node 1 和node 3 会断联， 所以需要temp node记录。
            curr.next = curr.next.next; // node 1 断联, dummy -> 2 (dummy.next = 2)
            curr.next.next = temp; // node 3 断联, 2 -> 1
            temp.next = temp1; // 1 -> 3

            curr = curr.next.next;
        }

        return dummy.next;
    }
}
```
递归写法：
```java
class Solution {
    public ListNode swapPairs(ListNode head) {
        ListNode dummy = new ListNode(-1, head);
        
        ListNode curr = dummy; // curr 是在调换pair的前一个节点
        reversePair(curr);
        return dummy.next;
    }

    public void reversePair(ListNode curr) {
        if (curr.next == null || curr.next.next == null) {
            return;
        } 

        ListNode temp1 = curr.next;
        ListNode temp3 = curr.next.next.next;

        curr.next = curr.next.next;
        curr.next.next = temp1;
        temp1.next = temp3;
        reversePair(curr.next.next); 
    }
}
```