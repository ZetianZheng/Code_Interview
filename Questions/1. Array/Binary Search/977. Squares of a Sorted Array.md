---
title: 977. Squares of a Sorted Array
date: 2023/08/10
author: Runming
type: 题解
---

## 审题（关键词）
non-decreasing, square, sorting after square .

## 初始思路  
先square O(n), 再sortingO(nlogn)
```java
class Solution {
    public int[] sortedSquares(int[] nums) {
        nums = Arrays.stream(nums).map(i -> i * i).toArray();

        Arrays.sort(nums);

        return nums;
    }
}
```

## 考点  
当数组有序的时候，想到对向双指针解法。  
因为原数组是 non-decreasing order，且要求我们求平方后的增序数组。  
可以想到，相对的最大值一定是从头或者尾产生，因为平方实际上把负号给消除，比较的是去除负号后的值。  
就可以双指针指向的值平方后进行比较，确定相对最大值，并更新生成后的数组。  
```
有序->双指针->比较  
```

## 解法  
```java
class Solution {
    public int[] sortedSquares(int[] nums) {
        // 平方数组找最大值： 从数组两边寻找
        // 从两边往中间看依然是有序数组
        // 有序 -> 双指针
        int l = 0, r = nums.length - 1;

        int k = nums.length - 1;
        int[] ans = new int[nums.length];

        while (l <= r) {
            int vl = nums[l];
            int vr = nums[r];
            // 比较左右两个指针，更大的那个顺序直接确定
            if (vl * vl < vr * vr) {
                ans[k] = vr * vr;
                r--;
            } else {
                ans[k] = vl * vl;
                l++;
            }
            k--;
        }

        return ans;
    }
}
```
