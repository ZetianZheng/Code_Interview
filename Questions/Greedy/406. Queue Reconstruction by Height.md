---
title: 406. Queue Reconstruction by Height
date: 2023/05/24
author: Runming
type: 题解
---

> 跟[[135. Candy]]同样是两个维度的题目，不要两头兼顾，需要明确哪个维度最先确定（身高）。
# [Queue Reconstruction by Height - LeetCode](https://leetcode.com/problems/queue-reconstruction-by-height/description/)
## Tag
#greedy

## 审题（关键词） 
按身高从高到低排序，要求每个人前面刚好有k个比他高的人

## 初始思路  
有两个维度，身高维度和比他高的人数k的维度。  
所以分别处理两个维度，一个维度处理完了再去看另一个  
那么最先处理哪个维度？  
身高维度，处理k的维度并不能带来有序。  
身高从高到低，再根据k调整顺序，因为把身高矮的插入前面并不会打乱前面的k（比本人高的）顺序  
- 局部最优：优先按身高高的people的k来插入。插入操作过后的people满足队列属性
- 全局最优：最后都做完插入操作，整个队列满足题目队列属性

## 考点  
处理两个维度，贪心

## 解法  
```java
class Solution {
    public int[][] reconstructQueue(int[][] people) {
        // 根据身高增序排序，相等则按照k降序
        Arrays.sort(people, (a, b) -> {
            if (a[0] == b[0]) {
                // 根据k升序。
                return a[1] - b[1];
            } else {
                return b[0] - a[0];
            }
        });

        LinkedList<int[]> peopleLinked = new LinkedList<>();
        for (int[] p : people) {
            // 在正确的k位置插入p
            // 矮的就保证自己前面只有k个比他高的
            // 所以从前往后遍历排序后的数组，直接index = k即可
            peopleLinked.add(p[1], p);
        }

        return peopleLinked.toArray(new int[people.length][]);
    }
}
```

## 难点
- 如何处理两个维度，先确定哪个维度？ 身高维度优先
- 使用什么数据结构处理 k的调整？使用链表，因为需要多次插入，且位置就是k。
