---
title: 122. Best Time to Buy and Sell Stock II
date: 2023/05/22
author: Runming
type: 题解
---

# [Best Time to Buy and Sell Stock II - LeetCode](https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/description/)
## Tag
#greedy， #sellstock


## 审题（关键词）
只能持有一个股票，可以在同一天内买卖，无限次操作


## 初始思路  
要获得最大收益，那么要在所有的最低谷买股票，然后在它后面的高峰卖掉。

贪心算法：  
收集正利润的区间，就是股票买卖的区间，而我们只需要关注最终利润，不需要记录区间。  
- 局部最优：收集每天的正利润，
- 全局最优：求得最大利润。


## 考点  
贪心思维，拆分成每日的交易

## 解法  
```java
class Solution {
    public int maxProfit(int[] prices) {
        // 贪心算法
        // 局部最优：收集每天的正利润，
        // 全局最优：求得最大利润。
        // 记录每天的正利润导致全局利润最大，因为没有限制购买次数和买卖条件
        int maxProfit = 0;
        // 从第二天开始卖
        for (int i = 1; i < prices.length; i++) {
            // 拆分成i天卖，i-1天买的无数个小交易
            int currProfit = prices[i] - prices[i - 1];
            if (currProfit > 0) {
                maxProfit += currProfit;
            } 
        }

        return maxProfit;
    }
}
```

## 难点
